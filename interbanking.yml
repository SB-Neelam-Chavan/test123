openapi: 3.0.0
x-stoplight:
  id: q6hyyyh0kxea5
tags:
  - name: Credit Cancellation
    description: Managing Credit Transfer cancellation.
  - name: Credit Transfer
    description: Managing Credit Transfer initiation and consultation.
  - name: Debit Cancellation
    description: Managing Debit transfer cancellation.
  - name: Debit Transfer
    description: Managing Debit transfer initiation and consultation.
  - name: Information Modification Advice
    description: Managing information modification advice.
servers:
  - url: 'https://sandbox.skaleet.com/api/interbanking/v1'
    description: Skaleet sandbox environment.
info:
  title: 'Interbanking API (deprecated, reserved to SEPA usage).'
  version: '5.0'
  description: "Interbanking API|  |\r\n---------|----------|\r\n Use Cases Examples | **SEPA Payment**<br>- Manage SEPA credit transfers<br>- Manage SEPA direct debits | \r\n\r\nThis API is used to exchange with the SEPA Gateway to manage SEPA credit transfers and direct debits.\r\nTo use this API, a back-office has to create an Interbanking API key through its web portal. When creating or editing an API key, the back-office can specify the scopes available for this key, determining wether access to specific endpoints is authorized or not."
  contact:
    name: Skaleet
    url: 'https://www.skaleet.com/en/'
    email: api@skaleet.com
  license:
    name: Proprietary
    url: 'https://www.skaleet.com/'
paths:
  /transfers/credits:
    post:
      security:
        - OAuth2: []
      tags:
        - Credit Transfer
      summary: Initiate an external credit transfer
      operationId: CreditTransfer
      description: Initiate an external credit transfer.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateCreditTransferRequest'
      responses:
        '201':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: a4ss14jegy7ni
  '/transfers/credits/{instructionId}/accept':
    parameters:
      - name: instructionId
        in: path
        description: Instruction unique identifier.
        required: true
        schema:
          $ref: '#/components/schemas/InstructionId'
    patch:
      security:
        - OAuth2: []
      tags:
        - Credit Transfer
      summary: Accept an external credit transfer
      operationId: AcceptCreditTransfer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AcceptCreditTransferRequest'
      responses:
        '200':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: 2gmmzkv6bh4sh
  '/transfers/credits/{instructionId}/refuse':
    parameters:
      - name: instructionId
        in: path
        description: Instruction unique identifier.
        required: true
        schema:
          $ref: '#/components/schemas/InstructionId'
    patch:
      security:
        - OAuth2: []
      tags:
        - Credit Transfer
      summary: Refuse an external credit transfer
      operationId: RefuseCreditTransfer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RefuseCreditTransferRequest'
      responses:
        '200':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: vne2df46y0xw1
  '/transfers/credits/{instructionId}':
    parameters:
      - name: instructionId
        in: path
        description: Instruction unique identifier.
        required: true
        schema:
          $ref: '#/components/schemas/InstructionId'
    patch:
      security:
        - OAuth2: []
      tags:
        - Credit Transfer
      summary: Update an external credit transfer
      operationId: UpdateCreditTransfer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateCreditTransferRequest'
      responses:
        '200':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: gi1jrmjdr1bbf
  '/transfers/credits/{instructionId}/settle':
    parameters:
      - name: instructionId
        in: path
        description: Instruction unique identifier.
        required: true
        schema:
          $ref: '#/components/schemas/InstructionId'
    patch:
      security:
        - OAuth2: []
      tags:
        - Credit Transfer
      summary: Settle an external credit transfer
      operationId: SettleCreditTransfer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SettleCreditTransferRequest'
      responses:
        '200':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: sfjvq20hmvt6f
  /cancellations/credits:
    post:
      security:
        - OAuth2: []
      tags:
        - Credit Cancellation
      summary: Cancel an external credit transfer
      operationId: CreditCancellation
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateCreditCancellationRequest'
      responses:
        '201':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: r4t8h2kj96sjo
  '/cancellations/credits/{instructionId}/accept':
    parameters:
      - name: instructionId
        in: path
        description: Instruction unique identifier.
        required: true
        schema:
          $ref: '#/components/schemas/InstructionId'
    patch:
      security:
        - OAuth2: []
      tags:
        - Credit Cancellation
      summary: Accept a credit transfer cancellation
      operationId: AcceptCreditCancellation
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AcceptCreditCancellationRequest'
      responses:
        '200':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: 8nknuoi4i53he
  '/cancellations/credits/{instructionId}/refuse':
    parameters:
      - name: instructionId
        in: path
        description: Instruction unique identifier.
        required: true
        schema:
          $ref: '#/components/schemas/InstructionId'
    patch:
      security:
        - OAuth2: []
      tags:
        - Credit Cancellation
      summary: Refuse a credit transfer cancellation
      operationId: RefuseCreditCancellation
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RefuseCreditCancellationRequest'
      responses:
        '200':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: shsok4ug57zyi
  '/cancellations/credits/{instructionId}/settle':
    parameters:
      - name: instructionId
        in: path
        description: Instruction unique identifier.
        required: true
        schema:
          $ref: '#/components/schemas/InstructionId'
    patch:
      security:
        - OAuth2: []
      tags:
        - Credit Cancellation
      summary: Settle a credit transfer cancellation
      operationId: SettleCreditCancellation
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SettleCreditCancellationRequest'
      responses:
        '200':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: 0j2fpgsz6ra40
  /transfers/debits:
    post:
      security:
        - OAuth2: []
      tags:
        - Debit Transfer
      summary: Initiate an external debit transfer
      operationId: DebitTransfer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateDebitTransferRequest'
      responses:
        '201':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: qp3x8terwkqnt
  '/transfers/debits/{instructionId}/accept':
    parameters:
      - name: instructionId
        in: path
        description: Instruction unique identifier.
        required: true
        schema:
          $ref: '#/components/schemas/InstructionId'
    patch:
      security:
        - OAuth2: []
      tags:
        - Debit Transfer
      summary: Accept an external debit transfer
      operationId: AcceptDebitTransfer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AcceptDebitTransferRequest'
      responses:
        '200':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: 2k1snrw8n51jl
  '/transfers/debits/{instructionId}/refuse':
    parameters:
      - name: instructionId
        in: path
        description: Instruction unique identifier.
        required: true
        schema:
          $ref: '#/components/schemas/InstructionId'
    patch:
      security:
        - OAuth2: []
      tags:
        - Debit Transfer
      summary: Refuse an external debit transfer
      operationId: RefuseDebitTransfer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RefuseDebitTransferRequest'
      responses:
        '200':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: w4tpj0cs06l6a
  '/transfers/debits/{instructionId}':
    parameters:
      - name: instructionId
        in: path
        description: Instruction unique identifier.
        required: true
        schema:
          $ref: '#/components/schemas/InstructionId'
    patch:
      security:
        - OAuth2: []
      tags:
        - Debit Transfer
      summary: Update an external debit transfer
      operationId: UpdateDebitTransfer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateDebitTransferRequest'
      responses:
        '200':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: pxjc1zflw5odt
  '/transfers/debits/{instructionId}/settle':
    parameters:
      - name: instructionId
        in: path
        description: Instruction unique identifier.
        required: true
        schema:
          $ref: '#/components/schemas/InstructionId'
    patch:
      security:
        - OAuth2: []
      tags:
        - Debit Transfer
      summary: Settle an external debit transfer
      operationId: SettleDebitTransfer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SettleDebitTransferRequest'
      responses:
        '200':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: 1e77bqstvkd2h
  /cancellations/debits:
    post:
      security:
        - OAuth2: []
      tags:
        - Debit Cancellation
      summary: Cancel an external debit transfer
      operationId: DebitCancellation
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateDebitCancellationRequest'
      responses:
        '201':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: t5qbx9xkax1oa
  '/cancellations/debits/{instructionId}/accept':
    parameters:
      - name: instructionId
        in: path
        description: Instruction unique identifier.
        required: true
        schema:
          $ref: '#/components/schemas/InstructionId'
    patch:
      security:
        - OAuth2: []
      tags:
        - Debit Cancellation
      summary: Accept a debit transfer cancellation
      operationId: AcceptDebitCancellation
      responses:
        '200':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: j0jzbwgpxj03r
  '/cancellations/debits/{instructionId}/refuse':
    parameters:
      - name: instructionId
        in: path
        description: Instruction unique identifier.
        required: true
        schema:
          $ref: '#/components/schemas/InstructionId'
    patch:
      security:
        - OAuth2: []
      tags:
        - Debit Cancellation
      summary: Refuse a debit transfer cancellation
      operationId: RefuseDebitCancellation
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RefuseDebitCancellationRequest'
      responses:
        '200':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: 7nnjxgl245ykp
  '/cancellations/debits/{instructionId}':
    parameters:
      - name: instructionId
        in: path
        description: Instruction unique identifier.
        required: true
        schema:
          $ref: '#/components/schemas/InstructionId'
    patch:
      security:
        - OAuth2: []
      tags:
        - Debit Cancellation
      summary: Update an external debit cancellation
      operationId: UpdateDebitCancellation
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateDebitCancellationRequest'
      responses:
        '200':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: gtwg5mrhome2e
  /modification:
    post:
      security:
        - OAuth2: []
      tags:
        - Information Modification Advice
      summary: Receive an information modification advice
      operationId: InformationModificationAdvice
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/InformationModificationAdviceRequest'
      responses:
        '204':
          description: Everything went fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: tv6lhwz5i1p5e
x-tagGroups:
  - name: Credit
    tags:
      - Credit Transfer
      - Credit Cancellation
  - name: Debit
    tags:
      - Debit Transfer
      - Debit Cancellation
  - name: Modification
    tags:
      - Information Modification Advice
components:
  securitySchemes:
    OAuth2:
      type: oauth2
      flows:
        clientCredentials:
          tokenUrl: 'https://sandbox.skaleet.com/api/interbanking/v1/oauth2/token'
          scopes: {}
          refreshUrl: ''
  schemas:
    CreateCreditTransferRequest:
      allOf:
        - $ref: '#/components/schemas/CreateInstructionRequest'
        - type: object
          required:
            - amount
            - creditor
            - debtor
          properties:
            executionDate:
              $ref: ./DateTime.yaml
            amount:
              $ref: ./AmountWithCurrencyNumericAndDisplay.yaml
            creditor:
              $ref: '#/components/schemas/InterbankingUser'
            debtor:
              $ref: '#/components/schemas/InterbankingUser'
            additionalReferences:
              type: object
              properties:
                instrId:
                  type: string
                  description: Instruction id
                  maxLength: 35
                endToEndId:
                  type: string
                  description: End-To-End id
                  maxLength: 35
                txId:
                  type: string
                  description: Transaction id
                  maxLength: 35
                purpose:
                  type: string
                  description: Purpose
                  maxLength: 35
            additional:
              oneOf:
                - $ref: '#/components/schemas/CreditTransferAdditionalSepa'
                - $ref: '#/components/schemas/CreditTransferAdditionalExample'
      x-stoplight:
        id: fix31xmjrgqo2
    InstructionId:
      type: string
      example: TRX2
      description: Instruction id in the issuer/receiver system (depending on the name of the parameter).
      x-stoplight:
        id: hmek4lyxrcqem
    AcceptCreditTransferRequest:
      allOf:
        - $ref: '#/components/schemas/UpdateCreditTransferRequest'
        - type: object
          properties:
            additional:
              oneOf:
                - $ref: '#/components/schemas/CreditTransferAdditionalSepa'
                - $ref: '#/components/schemas/CreditTransferAdditionalExample'
      x-stoplight:
        id: 2oswmx6htaymy
    RefuseCreditTransferRequest:
      allOf:
        - $ref: '#/components/schemas/UpdateCreditTransferRequest'
        - $ref: '#/components/schemas/RefuseInstructionRequest'
        - type: object
          properties:
            originator:
              $ref: '#/components/schemas/Originator'
            additional:
              oneOf:
                - $ref: '#/components/schemas/CreditTransferAdditionalSepa'
                - $ref: '#/components/schemas/CreditTransferAdditionalExample'
      x-stoplight:
        id: t5kq78m2gu4kb
    UpdateCreditTransferRequest:
      allOf:
        - $ref: '#/components/schemas/UpdateInstructionRequest'
        - type: object
          properties:
            creditor:
              $ref: '#/components/schemas/InterbankingUser'
            debtor:
              $ref: '#/components/schemas/InterbankingUser'
            settlementDate:
              type: string
              format: date-time
              description: settlement date
            additional:
              oneOf:
                - $ref: '#/components/schemas/UpdateCreditTransferAdditionalSepa'
                - $ref: '#/components/schemas/UpdateCreditTransferAdditionalExample'
      x-stoplight:
        id: q3jie6345dkfu
    SettleCreditTransferRequest:
      allOf:
        - $ref: '#/components/schemas/UpdateCreditTransferRequest'
        - type: object
          required:
            - settlementDate
          properties:
            additional:
              oneOf:
                - $ref: '#/components/schemas/CreditTransferAdditionalSepa'
                - $ref: '#/components/schemas/CreditTransferAdditionalExample'
      x-stoplight:
        id: 2o5qcp58b61l7
    CreateCreditCancellationRequest:
      allOf:
        - $ref: '#/components/schemas/CreateInstructionRequest'
        - type: object
          required:
            - originalInstruction
            - creationDate
            - additional
          properties:
            originalInstruction:
              type: object
              required:
                - issuerId
                - issuerIdType
              properties:
                issuerId:
                  $ref: '#/components/schemas/InstructionId'
                issuerIdType:
                  $ref: '#/components/schemas/InterbankingReferenceType'
                issuerBic:
                  type: string
                  description: 'Issuer BIC, mandatory when issuer ID type is `ACCOUNT_REFERENCE`'
                receiverId:
                  $ref: '#/components/schemas/InstructionId'
                receiverIdType:
                  $ref: '#/components/schemas/InterbankingReferenceType'
                receiverBic:
                  type: string
                  description: 'Receiver BIC, mandatory when receiver ID type is `ACCOUNT_REFERENCE`'
                orgnlEndToEndId:
                  type: string
                  description: Original transaction's end to end id
                  maxLength: 35
                orgnlTxId:
                  type: string
                  description: Original transaction's id
                  maxLength: 35
            originator:
              $ref: '#/components/schemas/Originator'
            additional:
              oneOf:
                - $ref: '#/components/schemas/CreditCancellationAdditionalSepa'
                - $ref: '#/components/schemas/CreditCancellationAdditionalExample'
      x-stoplight:
        id: u6ap5das81e2s
    AcceptCreditCancellationRequest:
      allOf:
        - $ref: '#/components/schemas/UpdateCreditCancellationRequest'
        - type: object
          properties:
            additional:
              oneOf:
                - $ref: '#/components/schemas/CreditCancellationAdditionalSepa'
                - $ref: '#/components/schemas/CreditCancellationAdditionalExample'
      x-stoplight:
        id: 8au4ni616773c
    RefuseCreditCancellationRequest:
      allOf:
        - $ref: '#/components/schemas/UpdateCreditCancellationRequest'
        - $ref: '#/components/schemas/RefuseInstructionRequest'
        - type: object
          properties:
            originator:
              $ref: '#/components/schemas/Originator'
            additional:
              oneOf:
                - $ref: '#/components/schemas/UpdateCreditCancellationAdditionalSepa'
                - $ref: '#/components/schemas/CreditCancellationAdditionalExample'
      x-stoplight:
        id: 8mhf87iinc5ze
    SettleCreditCancellationRequest:
      allOf:
        - $ref: '#/components/schemas/UpdateCreditCancellationRequest'
        - type: object
          required:
            - settlementDate
          properties:
            settlementDate:
              type: string
              format: date-time
              description: settlement date
      x-stoplight:
        id: kd2em3rx91y5h
    CreateDebitTransferRequest:
      allOf:
        - $ref: '#/components/schemas/CreateInstructionRequest'
        - type: object
          required:
            - amount
            - creditor
            - debtor
          properties:
            executionDate:
              $ref: ./DateTime.yaml
            amount:
              $ref: ./AmountWithCurrencyNumericAndDisplay.yaml
            creditor:
              $ref: '#/components/schemas/InterbankingUser'
            debtor:
              $ref: '#/components/schemas/InterbankingUser'
            additional:
              oneOf:
                - $ref: '#/components/schemas/DebitTransferAdditionalSepa'
                - $ref: '#/components/schemas/DebitTransferAdditionalExample'
      x-stoplight:
        id: h394bfuiuj9zh
    AcceptDebitTransferRequest:
      allOf:
        - $ref: '#/components/schemas/UpdateInstructionRequest'
        - type: object
          properties:
            additional:
              oneOf:
                - $ref: '#/components/schemas/AcceptDebitTransferAdditionalSepa'
      x-stoplight:
        id: orvitjlmtc5rb
    RefuseDebitTransferRequest:
      allOf:
        - $ref: '#/components/schemas/UpdateInstructionRequest'
        - type: object
          required:
            - fee
          properties:
            fee:
              $ref: ./AmountWithCurrencyNumericAndDisplay.yaml
            originator:
              $ref: '#/components/schemas/Originator'
            amount:
              $ref: ./AmountWithCurrencyNumericAndDisplay.yaml
            creditor:
              $ref: '#/components/schemas/InterbankingUser'
      x-stoplight:
        id: 0yzp6b5z2si2r
    UpdateDebitTransferRequest:
      allOf:
        - $ref: '#/components/schemas/UpdateInstructionRequest'
      x-stoplight:
        id: w0lmnsjbhkyrf
    SettleDebitTransferRequest:
      allOf:
        - $ref: '#/components/schemas/UpdateInstructionRequest'
        - type: object
          required:
            - settlementDate
          properties:
            settlementDate:
              type: string
              format: date-time
              description: settlement date
      x-stoplight:
        id: mfmoucd5v8xpw
    CreateDebitCancellationRequest:
      type: object
      required:
        - issuerId
        - originalInstruction
        - creationDate
        - issuer
        - receiver
        - refundedAmount
        - originator
        - reason
      properties:
        issuerId:
          type: string
          description: Cancellation instruction id
        originalInstruction:
          $ref: '#/components/schemas/OriginalDebitInstruction'
        creationDate:
          type: string
          format: date-time
        issuer:
          $ref: '#/components/schemas/InterbankingOperator'
        receiver:
          $ref: '#/components/schemas/InterbankingOperator'
        refundedAmount:
          $ref: ./AmountWithCurrencyNumericAndDisplay.yaml
        originator:
          $ref: '#/components/schemas/Originator'
        reason:
          $ref: '#/components/schemas/Error'
      x-stoplight:
        id: plf2eyj5xh4og
    RefuseDebitCancellationRequest:
      allOf:
        - $ref: '#/components/schemas/RefuseInstructionRequest'
      x-stoplight:
        id: pid683iwe5wqb
    UpdateDebitCancellationRequest:
      allOf:
        - $ref: '#/components/schemas/UpdateInstructionRequest'
        - type: object
          properties:
            additional:
              oneOf:
                - $ref: '#/components/schemas/UpdateDebitCancellationAdditionalSepa'
                - $ref: '#/components/schemas/UpdateDebitCancellationAdditionalExample'
      x-stoplight:
        id: 67hdrfhp1jurp
    InformationModificationAdviceRequest:
      type: object
      required:
        - issuerId
        - issuerIdType
        - issuer
        - receiver
      properties:
        modificationId:
          type: string
          description: a unique ID for the modification
          example: VVEEVXJY1NG6HBBH19
        instructingParty:
          type: string
          description: The party that instructed the change
          example: BANQFRPPXXX
        instructedParty:
          type: string
          description: The party for which the update is to be applied
          example: FR7630027160211101234129991
        originalIBAN:
          type: string
          description: IBAN to be updated
          example: FR7630027160211101234129991
        originalBIC:
          type: string
          description: BIC to be updated
          example: BANQFRPPXXX
        updatedIBAN:
          type: string
          description: Update to apply to the IBAN
          example: FR7630027160211101234129991
        updatedBIC:
          type: string
          description: Update to apply to the BIC
          example: BANQFRPPXXX
        creationDate:
          type: string
          format: date-time
          description: creation date (sent by platform)
          example: '2012-11-17 04:47:11'
        additionalInformation:
          type: string
          description: Optional Additional Information
          example: /ICS/FR87ZZZ006398/UMR/MAND21.10.12-1 PBK-Tx7
      x-stoplight:
        id: 8y04e1qta13ap
    CreateInstructionRequest:
      type: object
      required:
        - issuerId
        - issuerIdType
        - issuer
        - receiver
      properties:
        issuerId:
          $ref: '#/components/schemas/InstructionId'
        issuerIdType:
          $ref: '#/components/schemas/InterbankingReferenceType'
        issuerBic:
          type: string
          description: 'Issuer BIC, mandatory when issuer ID type is ACCOUNT_REFERENCE'
        issuer:
          $ref: '#/components/schemas/InterbankingOperator'
        receiver:
          $ref: '#/components/schemas/InterbankingOperator'
        creationDate:
          type: string
          format: date-time
          description: creation date (sent by platform)
        additional:
          type: object
      x-stoplight:
        id: 5za9nfh3aaewt
    InterbankingUser:
      type: object
      required:
        - issuerId
        - issuerIdType
      properties:
        issuerId:
          $ref: '#/components/schemas/UserId'
        issuerIdType:
          $ref: '#/components/schemas/InterbankingReferenceType'
        issuerBic:
          type: string
          description: 'Issuer BIC, mandatory when issuer ID type is ACCOUNT_REFERENCE'
        receiverId:
          $ref: '#/components/schemas/UserId'
        receiverIdType:
          $ref: '#/components/schemas/InterbankingReferenceType'
        receiverBic:
          type: string
          description: 'Issuer BIC, mandatory when receiverIdType is ACCOUNT_REFERENCE'
        additional:
          oneOf:
            - $ref: '#/components/schemas/InterbankingUserAdditionalSepa'
            - $ref: '#/components/schemas/InterbankingUserAdditionalExample'
      x-stoplight:
        id: z39fabo1x35rt
    CreditTransferAdditionalSepa:
      type: object
      required:
        - scheme
      properties:
        scheme:
          description: SEPA Scheme used (sent by SepaGateway)
          type: string
          enum:
            - SCT
            - SCT_INST
        category:
          type: string
          description: category (sent by platform)
        messageId:
          type: string
          description: message id (sent by SepaGateway)
        purpose:
          type: string
          minLength: 1
          maxLength: 4
          description: purpose (sent by platform)
        remittanceInfo:
          type: string
          description: remittance info (sent by platform)
        externalRef:
          type: string
          description: external system reference
      x-stoplight:
        id: 4a4zfeqygxeb7
    CreditTransferAdditionalExample:
      type: object
      description: Some example of additional data
      properties:
        someAttribute:
          type: string
        otherAttribute:
          type: string
      x-stoplight:
        id: zxr85kphznmbc
    Error:
      type: object
      required:
        - code
        - message
      properties:
        code:
          type: string
          description: error code
          example: ERR1234
        message:
          type: string
          description: This is a functional error message that can be displayed to the end user
          example: 'Dear user, sorry but something went wrong'
      x-stoplight:
        id: n6pa3u65bpxn5
    RefuseInstructionRequest:
      type: object
      required:
        - reason
      properties:
        reason:
          $ref: '#/components/schemas/Error'
      x-stoplight:
        id: k14grwmavrobh
    Originator:
      type: object
      description: Originator of request
      properties:
        type:
          type: string
          enum:
            - ADMIN
            - CUSTOMER
            - SYSTEM
        value:
          type: string
          example: PSSTFRPPXXX
      x-stoplight:
        id: 8av9arlzxypnz
    UpdateInstructionRequest:
      type: object
      properties:
        receiverId:
          $ref: '#/components/schemas/InstructionId'
        additional:
          type: object
      x-stoplight:
        id: e0lmiyn6oqjix
    UpdateCreditTransferAdditionalSepa:
      type: object
      properties:
        scheme:
          description: SEPA Scheme used (sent by SepaGateway)
          type: string
          enum:
            - SCT
            - SCT_INST
        category:
          type: string
          description: category (sent by platform)
        messageId:
          type: string
          description: message id (sent by SepaGateway)
        originatorRef:
          type: string
          description: originator ref (sent by platform)
        purpose:
          type: string
          minLength: 1
          maxLength: 4
          description: purpose (sent by platform)
        remittanceInfo:
          type: string
          description: remittance info (sent by platform)
        clearingSystem:
          type: string
          enum:
            - CORE
            - CORS
            - STP2
        acquitted:
          type: boolean
          description: 'true/false if the instruction has been acquitted/rejected by Steffi though acquittal/rejection file, else null if no acquittal/rejection has been done yet'
      x-stoplight:
        id: 5xve55fwdis0v
    UpdateCreditTransferAdditionalExample:
      type: object
      description: Some example of additional data
      properties:
        someAttribute:
          type: string
        otherAttribute:
          type: string
      x-stoplight:
        id: mo176s3xk7rca
    InterbankingReferenceType:
      description: Type of the reference
      type: string
      enum:
        - IBAN
        - ACCOUNT_NUMBER
        - ACCOUNT_REFERENCE
        - VISA_NUMBER
        - PHONE
        - OTHER
      example: IBAN
      x-stoplight:
        id: vbrhntx88kfuv
    CreditCancellationAdditionalSepa:
      type: object
      required:
        - scheme
        - type
        - reason
      properties:
        scheme:
          description: SEPA Scheme used (sent by SepaGateway)
          type: string
          enum:
            - SCT
            - SCT_INST
        type:
          type: string
          description: type of R message (sent by platform)
          enum:
            - RECALL
            - REVERSAL
        messageId:
          type: string
          description: message id (sent by SepaGateway)
        reason:
          $ref: '#/components/schemas/Error'
        additionalReason:
          type: string
          description: additional reason (sent by platform)
      x-stoplight:
        id: 6pb2bb5049yto
    CreditCancellationAdditionalExample:
      type: object
      description: Some example of additional data
      properties:
        someAttribute:
          type: string
        otherAttribute:
          type: string
      x-stoplight:
        id: 3fzw51zpczr8o
    UpdateCreditCancellationRequest:
      allOf:
        - $ref: '#/components/schemas/UpdateInstructionRequest'
        - type: object
          properties:
            additional:
              oneOf:
                - $ref: '#/components/schemas/UpdateCreditCancellationAdditionalSepa'
                - $ref: '#/components/schemas/UpdateCreditCancellationAdditionalExample'
      x-stoplight:
        id: 0jwsk54d3ui1w
    UpdateCreditCancellationAdditionalSepa:
      type: object
      properties:
        scheme:
          description: SEPA Scheme used (sent by SepaGateway)
          type: string
          enum:
            - SCT
            - SCT_INST
      x-stoplight:
        id: 5vdyavshb4n74
    DebitTransferAdditionalSepa:
      type: object
      required:
        - scheme
        - mandateId
        - mandateSignatureDate
        - creditorSchemeId
        - sequenceType
        - mandateType
      properties:
        dueDate:
          type: string
          format: date-time
          description: due date (sent by platform)
        scheme:
          description: SEPA Scheme used (sent by SepaGateway)
          type: string
          enum:
            - SDD
        mandateSignatureDate:
          type: string
          format: date-time
          description: settlement date
        creditorSchemeId:
          type: string
          minLength: 1
          maxLength: 35
        category:
          type: string
          description: category (sent by platform)
        mandateId:
          type: string
          minLength: 1
          maxLength: 35
        mandateType:
          type: string
          minLength: 1
          maxLength: 4
          enum:
            - CORE
            - B2B
        messageId:
          type: string
          description: message id (sent by SepaGateway)
        originatorRef:
          type: string
          description: originator ref (sent by platform)
        originalMandate:
          type: object
          description: To be used if mandate information have been updated since last direct debit (mandatory when using SEPA)
          properties:
            reference:
              type: string
            creditorRef:
              type: string
            debtorIban:
              type: string
              description: 'IBAN (International Bank Account Number), e.g. FR791680810000000538'
              example: FR791680810000000538
        purpose:
          type: string
          minLength: 1
          maxLength: 4
          description: purpose (sent by platform)
        remittanceInfo:
          type: string
          description: remittance info (sent by platform)
        sequenceType:
          type: string
          minLength: 1
          maxLength: 4
          enum:
            - OOFF
            - FRST
            - RCUR
            - FNAL
        externalRef:
          type: string
          description: external system reference
      x-stoplight:
        id: pc522vontzrnh
    DebitTransferAdditionalExample:
      type: object
      description: Some example of additional data
      properties:
        someAttribute:
          type: string
        otherAttribute:
          type: string
      x-stoplight:
        id: z56z19p0x9fz5
    AcceptDebitTransferAdditionalSepa:
      type: object
      properties:
        dueDate:
          type: string
          format: date-time
          description: due date (sent by platform)
      x-stoplight:
        id: l96k6wdxty2gr
    OriginalDebitInstruction:
      type: object
      required:
        - id
      properties:
        id:
          type: string
        scheme:
          type: string
        creditorSchemeId:
          type: string
        transactionId:
          type: string
      x-stoplight:
        id: uzbl9uszcv132
    InterbankingOperator:
      type: object
      required:
        - id
      properties:
        id:
          type: string
          example: APP1
        name:
          type: string
          example: Skom It Bank master
      x-stoplight:
        id: 6lv18jjh9yal6
    UpdateDebitCancellationAdditionalSepa:
      type: object
      x-stoplight:
        id: j05wt455hyiep
    UpdateDebitCancellationAdditionalExample:
      type: object
      description: Some example of additional data
      properties:
        someAttribute:
          type: string
        otherAttribute:
          type: string
      x-stoplight:
        id: tkwd1m17w8ql5
    UserId:
      type: string
      example: FR1420041010050500013M02606
      description: 'User id in the system, can be an IBAN or other id depending on the system'
      x-stoplight:
        id: uh3s7hrbao33a
    InterbankingUserAdditionalSepa:
      type: object
      required:
        - fullName
        - country
        - BIC
      properties:
        BIC:
          $ref: '#/components/schemas/BIC'
        fullName:
          type: string
          example: John Doe
        address:
          type: string
          example: 88 rue du dôme
        city:
          type: string
          example: Boulogne-Billancourt
        zipcode:
          type: string
          example: '92100'
        region:
          type: string
          example: Île de france
        district:
          type: string
          example: République
        province:
          type: string
        country:
          type: string
          example: FR
        code:
          type: string
          description: originator or beneficiary code
        ultimate:
          type: object
          properties:
            id:
              type: string
              pattern: '^[A-Z]{6,6}[A-Z2-9][A-NP-Z0-9]([A-Z0-9]{3,3}){0,1}$'
            name:
              type: string
              maxLength: 140
      x-stoplight:
        id: m2qyzgbcxal13
    InterbankingUserAdditionalExample:
      type: object
      description: Some example of additional data
      properties:
        someAttribute:
          type: string
        otherAttribute:
          type: string
      x-stoplight:
        id: svlbx2i7qi8bs
    UpdateCreditCancellationAdditionalExample:
      type: object
      description: Some example of additional data
      properties:
        someAttribute:
          type: string
        otherAttribute:
          type: string
      x-stoplight:
        id: 71uonkqj8c4ua
    BIC:
      type: string
      pattern: '^[A-Z]{6,6}[A-Z2-9][A-NP-Z0-9]([A-Z0-9]{3,3}){0,1}$'
      example: PSSTFRPPXXX
      x-stoplight:
        id: 24pkcd3ppewp9
  responses:
    BadRequestErrorResponse:
      description: Something went wrong and it was client fault.
      content:
        application/json:
          schema:
            $ref: ./Error.yaml
x-internal: true
